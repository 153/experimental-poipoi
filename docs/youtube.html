<!doctype html>
<html lang="ja">
<head>
<title>YouTube Player</title>
<style>*{margin:0;padding:0;border:0;width:100%;height:100%}iframe{display:block}</style>
<script>
onhashchange = onload = () => {

  var hash = decodeURIComponent(location.hash.slice(1));
  var m = hash.match(/^https:\/\/(?:www\.|m\.)?youtube\.com\/[^?]*\?(.+)$/);
  if (m) {
    var param = (m[1].match(/(?:^|&)v=([^&]+)/) || {1:''})[1] + '?' + m[1];
  } else {
    if (m = hash.match(/^https:\/\/youtu\.be\/(.+)$/)) {
      param = m[1];
    } else {
      document.body.innerHTML = '<p>このページのURLの末尾に#とYouTubeのURLを追加する';
      return;
    }
  }
  document.body.innerHTML = '';
  var iframe = document.createElement('iframe');
  iframe.src = 'https://www.youtube.com/embed/' + param.replace(/([?&])t=/, '$1start=');
  iframe.allowFullscreen = true;
  document.body.append(iframe);
};
</script>
</head>
